"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[430],{6430:function(a,b,c){c.r(b),c.d(b,{"default":function(){return j}});var d=c(5893),e=c(7294),f=c(2212),g=c(9365),h=c(1217),i=c(1026),j=function(){var a=(0,e.useRef)(),b=(0,e.useState)(!0),c=b[0],j=b[1],k=(0,e.useState)(),l=k[0],m=k[1],n=(0,e.useState)(),o=n[0],p=n[1],q=(0,e.useState)(new f.Pa4(-0.5,1.2,0)),r=q[0],s=(0,e.useState)(new f.Pa4(20*Math.sin(0.2*Math.PI),10,20*Math.cos(0.2*Math.PI))),t=s[0],u=(0,e.useState)(new f.xsS()),v=u[0],w=(0,e.useState)(),x=w[0],y=w[1],z=(0,e.useCallback)(function(){var b=a.current;if(b&&l){var c=b.clientWidth,d=b.clientHeight;l.setSize(c,d)}},[l]);return(0,e.useEffect)(function(){var b=a.current;if(b&&!l){var c=b.clientWidth,d=b.clientHeight,e=new f.CP7({antialias:!0,alpha:!0});e.setPixelRatio(window.devicePixelRatio),e.setSize(c,d),e.outputEncoding=f.knz,b.appendChild(e.domElement),m(e);var i=0.005*d+4.8,k=new f.iKG(-i,i,i,-i,0.01,50e3);k.position.copy(t),k.lookAt(r),p(k);var n=new f.Mig(13421772,1);v.add(n);var o,q,s,u,w=new g.z(k,e.domElement);w.autoRotate=!0,w.target=r,y(w),(o=v,s=(q={receiveShadow:!1,castShadow:!1}).receiveShadow,u=q.castShadow,new Promise(function(a,b){new h.E().load("/dog.glb",function(b){var c=b.scene;c.name="dog",c.position.y=0,c.position.x=0,c.receiveShadow=s,c.castShadow=u,o.add(c),c.traverse(function(a){a.isMesh&&(a.castShadow=u,a.receiveShadow=s)}),a(c)},void 0,function(a){b(a)})})).then(function(){A(),j(!1)});var x=null,z=0,A=function(){if(x=requestAnimationFrame(A),(z=z<=100?z+1:z)<=100){var a=t,b=-Math.sqrt(1-Math.pow(z/120-1,4))*Math.PI*20;k.position.y=10,k.position.x=a.x*Math.cos(b)+a.z*Math.sin(b),k.position.z=a.z*Math.cos(b)-a.x*Math.sin(b),k.lookAt(r)}else w.update();e.render(v,k)};return function(){console.log("unmount"),cancelAnimationFrame(x),e.dispose()}}},[]),(0,e.useEffect)(function(){return window.addEventListener("resize",z,!1),function(){window.removeEventListener("resize",z,!1)}},[l,z]),(0,d.jsx)(i.Oi,{ref:a,children:c&&(0,d.jsx)(i.j_,{})})}}}])